class AgentRegistry {
    agentsByName = new Map();
    constructor(definitions) {
        if (definitions) {
            for (const def of definitions)
                this.register(def);
        }
        else {
            for (const def of AgentRegistry.getDefaultAgents())
                this.register(def);
        }
    }
    static getDefaultAgents() {
        return [
            {
                id: 'research',
                name: 'research',
                agent_type: 'research',
                description: 'Explore codebase and generate clarifying questions',
            },
            {
                id: 'planning',
                name: 'planning',
                agent_type: 'planning',
                description: 'Analyze repo and produce implementation plan',
            },
            {
                id: 'code_generation',
                name: 'code_generation',
                agent_type: 'execution',
                description: 'Implements code changes using Claude SDK',
            },
            {
                id: 'review',
                name: 'review',
                agent_type: 'review',
                description: 'Reviews changes and suggests fixes',
            },
            {
                id: 'testing',
                name: 'testing',
                agent_type: 'testing',
                description: 'Runs tests and reports results',
            },
        ];
    }
    register(def) {
        this.agentsByName.set(def.name, def);
    }
    getAgent(name) {
        return this.agentsByName.get(name);
    }
    listAgents() {
        return Array.from(this.agentsByName.values());
    }
    exportForPostHog() {
        return this.listAgents().map(({ id, name, agent_type, description }) => ({ id, name, agent_type, description }));
    }
}

export { AgentRegistry };
//# sourceMappingURL=agent-registry.js.map
