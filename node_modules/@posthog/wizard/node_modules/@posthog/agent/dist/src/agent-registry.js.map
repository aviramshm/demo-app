{"version":3,"file":"agent-registry.js","sources":["../../src/agent-registry.ts"],"sourcesContent":["import type { AgentDefinition, AgentType } from './workflow-types.js';\n\nexport class AgentRegistry {\n  private agentsByName: Map<string, AgentDefinition> = new Map();\n\n  constructor(definitions?: AgentDefinition[]) {\n    if (definitions) {\n      for (const def of definitions) this.register(def);\n    } else {\n      for (const def of AgentRegistry.getDefaultAgents()) this.register(def);\n    }\n  }\n\n  static getDefaultAgents(): AgentDefinition[] {\n    return [\n      {\n        id: 'research',\n        name: 'research',\n        agent_type: 'research',\n        description: 'Explore codebase and generate clarifying questions',\n      },\n      {\n        id: 'planning',\n        name: 'planning',\n        agent_type: 'planning',\n        description: 'Analyze repo and produce implementation plan',\n      },\n      {\n        id: 'code_generation',\n        name: 'code_generation',\n        agent_type: 'execution',\n        description: 'Implements code changes using Claude SDK',\n      },\n      {\n        id: 'review',\n        name: 'review',\n        agent_type: 'review',\n        description: 'Reviews changes and suggests fixes',\n      },\n      {\n        id: 'testing',\n        name: 'testing',\n        agent_type: 'testing',\n        description: 'Runs tests and reports results',\n      },\n    ];\n  }\n\n  register(def: AgentDefinition): void {\n    this.agentsByName.set(def.name, def);\n  }\n\n  getAgent(name: string): AgentDefinition | undefined {\n    return this.agentsByName.get(name);\n  }\n\n  listAgents(): AgentDefinition[] {\n    return Array.from(this.agentsByName.values());\n  }\n\n  exportForPostHog(): { id: string; name: string; agent_type: AgentType; description?: string }[] {\n    return this.listAgents().map(({ id, name, agent_type, description }) => ({ id, name, agent_type, description }));\n  }\n}\n\n"],"names":[],"mappings":"MAEa,aAAa,CAAA;AAChB,IAAA,YAAY,GAAiC,IAAI,GAAG,EAAE;AAE9D,IAAA,WAAA,CAAY,WAA+B,EAAA;QACzC,IAAI,WAAW,EAAE;YACf,KAAK,MAAM,GAAG,IAAI,WAAW;AAAE,gBAAA,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;QACnD;aAAO;AACL,YAAA,KAAK,MAAM,GAAG,IAAI,aAAa,CAAC,gBAAgB,EAAE;AAAE,gBAAA,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;QACxE;IACF;AAEA,IAAA,OAAO,gBAAgB,GAAA;QACrB,OAAO;AACL,YAAA;AACE,gBAAA,EAAE,EAAE,UAAU;AACd,gBAAA,IAAI,EAAE,UAAU;AAChB,gBAAA,UAAU,EAAE,UAAU;AACtB,gBAAA,WAAW,EAAE,oDAAoD;AAClE,aAAA;AACD,YAAA;AACE,gBAAA,EAAE,EAAE,UAAU;AACd,gBAAA,IAAI,EAAE,UAAU;AAChB,gBAAA,UAAU,EAAE,UAAU;AACtB,gBAAA,WAAW,EAAE,8CAA8C;AAC5D,aAAA;AACD,YAAA;AACE,gBAAA,EAAE,EAAE,iBAAiB;AACrB,gBAAA,IAAI,EAAE,iBAAiB;AACvB,gBAAA,UAAU,EAAE,WAAW;AACvB,gBAAA,WAAW,EAAE,0CAA0C;AACxD,aAAA;AACD,YAAA;AACE,gBAAA,EAAE,EAAE,QAAQ;AACZ,gBAAA,IAAI,EAAE,QAAQ;AACd,gBAAA,UAAU,EAAE,QAAQ;AACpB,gBAAA,WAAW,EAAE,oCAAoC;AAClD,aAAA;AACD,YAAA;AACE,gBAAA,EAAE,EAAE,SAAS;AACb,gBAAA,IAAI,EAAE,SAAS;AACf,gBAAA,UAAU,EAAE,SAAS;AACrB,gBAAA,WAAW,EAAE,gCAAgC;AAC9C,aAAA;SACF;IACH;AAEA,IAAA,QAAQ,CAAC,GAAoB,EAAA;QAC3B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC;IACtC;AAEA,IAAA,QAAQ,CAAC,IAAY,EAAA;QACnB,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC;IACpC;IAEA,UAAU,GAAA;QACR,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;IAC/C;IAEA,gBAAgB,GAAA;AACd,QAAA,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,CAAC,CAAC;IAClH;AACD;;;;"}