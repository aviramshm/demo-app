import type { Task, ExecutionResult, AgentConfig } from './types.js';
import type { WorkflowDefinition, WorkflowStage, WorkflowExecutionOptions } from './workflow-types.js';
import { PostHogAPIClient } from './posthog-api.js';
import { type ExtractedQuestion, type ExtractedQuestionWithAnswer } from './structured-extraction.js';
export declare class Agent {
    private workingDirectory;
    private onEvent?;
    private taskManager;
    private posthogAPI?;
    private fileManager;
    private gitManager;
    private templateManager;
    private adapter;
    private logger;
    private agentRegistry;
    private workflowRegistry;
    private stageExecutor;
    private progressReporter;
    private promptBuilder;
    private extractor?;
    private mcpServers?;
    debug: boolean;
    constructor(config?: AgentConfig);
    /**
     * Enable or disable debug logging
     */
    setDebug(enabled: boolean): void;
    /**
     * Configure LLM gateway environment variables for Claude Code CLI
     */
    private _configureLlmGateway;
    runWorkflow(taskOrId: Task | string, workflowId: string, options?: WorkflowExecutionOptions): Promise<{
        task: Task;
        workflow: WorkflowDefinition;
    }>;
    executeStage(task: Task, stage: WorkflowStage, options?: WorkflowExecutionOptions): Promise<void>;
    runTask(taskOrId: Task | string, options?: import('./types.js').TaskExecutionOptions): Promise<void>;
    progressToNextStage(taskId: string, currentStageKey?: string): Promise<void>;
    run(prompt: string, options?: {
        repositoryPath?: string;
        permissionMode?: import('./types.js').PermissionMode;
        queryOverrides?: Record<string, any>;
    }): Promise<ExecutionResult>;
    fetchTask(taskId: string): Promise<Task>;
    getPostHogClient(): PostHogAPIClient | undefined;
    listTasks(filters?: {
        repository?: string;
        organization?: string;
        origin_product?: string;
        workflow?: string;
        current_stage?: string;
    }): Promise<Task[]>;
    writeTaskFile(taskId: string, fileName: string, content: string, type?: 'plan' | 'context' | 'reference' | 'output'): Promise<void>;
    readTaskFile(taskId: string, fileName: string): Promise<string | null>;
    getTaskFiles(taskId: string): Promise<any[]>;
    writePlan(taskId: string, plan: string): Promise<void>;
    readPlan(taskId: string): Promise<string | null>;
    extractQuestionsFromResearch(taskId: string, includeAnswers?: boolean): Promise<ExtractedQuestion[] | ExtractedQuestionWithAnswer[]>;
    createPlanningBranch(taskId: string): Promise<string>;
    commitPlan(taskId: string, taskTitle: string): Promise<string>;
    createImplementationBranch(taskId: string, planningBranchName?: string): Promise<string>;
    commitImplementation(taskId: string, taskTitle: string, planSummary?: string): Promise<string>;
    createPullRequest(taskId: string, branchName: string, taskTitle: string, taskDescription: string): Promise<string>;
    attachPullRequestToTask(taskId: string, prUrl: string, branchName?: string): Promise<void>;
    updateTaskBranch(taskId: string, branchName: string): Promise<void>;
    cancelTask(taskId: string): void;
    getTaskExecutionStatus(taskId: string): string | null;
    private emitEvent;
}
export { PermissionMode } from './types.js';
export type { Task, SupportingFile, ExecutionResult, AgentConfig } from './types.js';
export type { WorkflowDefinition, WorkflowStage, WorkflowExecutionOptions } from './workflow-types.js';
//# sourceMappingURL=agent.d.ts.map