{"version":3,"file":"tool-mapper.js","sources":["../../../../src/adapters/claude/tool-mapper.ts"],"sourcesContent":["import type { ToolCallEvent, ToolResultEvent } from '../../types.js';\nimport { ToolRegistry } from '../../tools/registry.js';\n\n/**\n * Maps Claude tool names to our tool type system.\n * Enriches tool events with metadata for better UI consumption.\n */\nexport class ClaudeToolMapper {\n  private registry = new ToolRegistry();\n\n  /**\n   * Enrich a tool call event with tool metadata.\n   * Looks up the tool definition and adds it to the event.\n   */\n  enrichToolCall(event: ToolCallEvent): ToolCallEvent {\n    const tool = this.registry.get(event.toolName);\n    if (!tool) {\n      // Tool not recognized, return as-is\n      return event;\n    }\n\n    return {\n      ...event,\n      tool,\n      category: tool.category,\n    };\n  }\n\n  /**\n   * Enrich a tool result event with tool metadata.\n   * Looks up the tool definition and adds it to the event.\n   */\n  enrichToolResult(event: ToolResultEvent): ToolResultEvent {\n    const tool = this.registry.get(event.toolName);\n    if (!tool) {\n      // Tool not recognized, return as-is\n      return event;\n    }\n\n    return {\n      ...event,\n      tool,\n      category: tool.category,\n    };\n  }\n}\n"],"names":[],"mappings":";;AAGA;;;AAGG;MACU,gBAAgB,CAAA;AACnB,IAAA,QAAQ,GAAG,IAAI,YAAY,EAAE;AAErC;;;AAGG;AACH,IAAA,cAAc,CAAC,KAAoB,EAAA;AACjC,QAAA,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC;QAC9C,IAAI,CAAC,IAAI,EAAE;;AAET,YAAA,OAAO,KAAK;QACd;QAEA,OAAO;AACL,YAAA,GAAG,KAAK;YACR,IAAI;YACJ,QAAQ,EAAE,IAAI,CAAC,QAAQ;SACxB;IACH;AAEA;;;AAGG;AACH,IAAA,gBAAgB,CAAC,KAAsB,EAAA;AACrC,QAAA,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC;QAC9C,IAAI,CAAC,IAAI,EAAE;;AAET,YAAA,OAAO,KAAK;QACd;QAEA,OAAO;AACL,YAAA,GAAG,KAAK;YACR,IAAI;YACJ,QAAQ,EAAE,IAAI,CAAC,QAAQ;SACxB;IACH;AACD;;;;"}