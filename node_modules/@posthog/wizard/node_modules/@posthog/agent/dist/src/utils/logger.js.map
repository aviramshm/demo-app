{"version":3,"file":"logger.js","sources":["../../../src/utils/logger.ts"],"sourcesContent":["/**\n * Simple logger utility with configurable debug mode\n */\nexport enum LogLevel {\n    ERROR = 0,\n    WARN = 1,\n    INFO = 2,\n    DEBUG = 3\n}\n\nexport interface LoggerConfig {\n    debug?: boolean;\n    prefix?: string;\n}\n\nexport class Logger {\n    private debugEnabled: boolean;\n    private prefix: string;\n\n    constructor(config: LoggerConfig = {}) {\n        this.debugEnabled = config.debug ?? false;\n        this.prefix = config.prefix ?? '[PostHog Agent]';\n    }\n\n    setDebug(enabled: boolean) {\n        this.debugEnabled = enabled;\n    }\n\n    private formatMessage(level: string, message: string, data?: any): string {\n        const timestamp = new Date().toISOString();\n        const base = `${timestamp} ${this.prefix} ${level} ${message}`;\n        \n        if (data !== undefined) {\n            return `${base} ${JSON.stringify(data, null, 2)}`;\n        }\n        \n        return base;\n    }\n\n    error(message: string, error?: Error | any) {\n        // Always log errors\n        if (error instanceof Error) {\n            console.error(this.formatMessage('[ERROR]', message, {\n                message: error.message,\n                stack: error.stack\n            }));\n        } else {\n            console.error(this.formatMessage('[ERROR]', message, error));\n        }\n    }\n\n    warn(message: string, data?: any) {\n        if (this.debugEnabled) {\n            console.warn(this.formatMessage('[WARN]', message, data));\n        }\n    }\n\n    info(message: string, data?: any) {\n        if (this.debugEnabled) {\n            console.log(this.formatMessage('[INFO]', message, data));\n        }\n    }\n\n    debug(message: string, data?: any) {\n        if (this.debugEnabled) {\n            console.log(this.formatMessage('[DEBUG]', message, data));\n        }\n    }\n\n    /**\n     * Create a child logger with additional prefix\n     */\n    child(childPrefix: string): Logger {\n        return new Logger({\n            debug: this.debugEnabled,\n            prefix: `${this.prefix} [${childPrefix}]`\n        });\n    }\n}"],"names":[],"mappings":"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"}