{"version":3,"file":"package-json.js","sourceRoot":"","sources":["../../../src/utils/package-json.ts"],"names":[],"mappings":";;AAuBA,oEAUC;AAED,kDAKC;AAED,8CAQC;AAjCD;;;;;GAKG;AACH,SAAgB,4BAA4B,CAC1C,gBAA0B,EAC1B,WAA2B;IAE3B,OAAO,gBAAgB;SACpB,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;QACrB,IAAI,EAAE,WAAW;QACjB,OAAO,EAAE,iBAAiB,CAAC,WAAW,EAAE,WAAW,CAAC;KACrD,CAAC,CAAC;SACF,IAAI,CAAC,CAAC,UAAU,EAA4B,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AAC1E,CAAC;AAED,SAAgB,mBAAmB,CACjC,WAAmB,EACnB,WAA2B;IAE3B,OAAO,iBAAiB,CAAC,WAAW,EAAE,WAAW,CAAC,KAAK,SAAS,CAAC;AACnE,CAAC;AAED,SAAgB,iBAAiB,CAC/B,WAAmB,EACnB,WAA2B;IAE3B,OAAO,CACL,WAAW,EAAE,YAAY,EAAE,CAAC,WAAW,CAAC;QACxC,WAAW,EAAE,eAAe,EAAE,CAAC,WAAW,CAAC,CAC5C,CAAC;AACJ,CAAC","sourcesContent":["export type PackageDotJson = {\n  version?: string;\n  scripts?: Record<string, string | undefined>;\n  dependencies?: Record<string, string>;\n  devDependencies?: Record<string, string>;\n  resolutions?: Record<string, string>;\n  overrides?: Record<string, string>;\n  pnpm?: {\n    overrides?: Record<string, string>;\n  };\n};\n\ntype NpmPackage = {\n  name: string;\n  version: string;\n};\n\n/**\n * Checks if @param packageJson has any of the @param packageNamesList package names\n * listed as a dependency or devDependency.\n * If so, it returns the first package name that is found, including the\n * version (range) specified in the package.json.\n */\nexport function findInstalledPackageFromList(\n  packageNamesList: string[],\n  packageJson: PackageDotJson,\n): NpmPackage | undefined {\n  return packageNamesList\n    .map((packageName) => ({\n      name: packageName,\n      version: getPackageVersion(packageName, packageJson),\n    }))\n    .find((sdkPackage): sdkPackage is NpmPackage => !!sdkPackage.version);\n}\n\nexport function hasPackageInstalled(\n  packageName: string,\n  packageJson: PackageDotJson,\n): boolean {\n  return getPackageVersion(packageName, packageJson) !== undefined;\n}\n\nexport function getPackageVersion(\n  packageName: string,\n  packageJson: PackageDotJson,\n): string | undefined {\n  return (\n    packageJson?.dependencies?.[packageName] ||\n    packageJson?.devDependencies?.[packageName]\n  );\n}\n"]}