{"version":3,"file":"config.js","sourceRoot":"","sources":["../../../src/lib/config.ts"],"names":[],"mappings":"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","sourcesContent":["import { getPackageDotJson } from '../utils/clack-utils';\nimport { hasPackageInstalled } from '../utils/package-json';\nimport type { WizardOptions } from '../utils/types';\nimport { Integration } from './constants';\n\ntype IntegrationConfig = {\n  name: string;\n  filterPatterns: string[];\n  ignorePatterns: string[];\n  detect: (options: Pick<WizardOptions, 'installDir'>) => Promise<boolean>;\n  generateFilesRules: string;\n  filterFilesRules: string;\n  docsUrl: string;\n  nextSteps: string;\n  defaultChanges: string;\n};\n\nexport const INTEGRATION_CONFIG = {\n  [Integration.nextjs]: {\n    name: 'Next.js',\n    filterPatterns: ['**/*.{tsx,ts,jsx,js,mjs,cjs}'],\n    ignorePatterns: [\n      'node_modules',\n      'dist',\n      'build',\n      'public',\n      'static',\n      'next-env.d.*',\n    ],\n    detect: async (options) => {\n      const packageJson = await getPackageDotJson(options);\n      return hasPackageInstalled('next', packageJson);\n    },\n    generateFilesRules: '',\n    filterFilesRules: '',\n    docsUrl: 'https://posthog.com/docs/libraries/next-js',\n    defaultChanges:\n      '• Installed posthog-js & posthog-node packages\\n• Initialized PostHog and added pageview tracking\\n• Created a PostHogClient to use PostHog server-side\\n• Setup a reverse proxy to avoid ad blockers blocking analytics requests',\n    nextSteps:\n      '• Call posthog.identify() when a user signs into your app\\n• Call posthog.capture() to capture custom events in your app',\n  },\n  [Integration.react]: {\n    name: 'React',\n    filterPatterns: ['**/*.{tsx,ts,jsx,js}'],\n    ignorePatterns: [\n      'node_modules',\n      'dist',\n      'build',\n      'public',\n      'static',\n      'assets',\n    ],\n    detect: async (options) => {\n      const packageJson = await getPackageDotJson(options);\n      return hasPackageInstalled('react', packageJson);\n    },\n    generateFilesRules: '',\n    filterFilesRules: '',\n    docsUrl: 'https://posthog.com/docs/libraries/react',\n    defaultChanges:\n      '• Installed posthog-js package\\n• Added PostHogProvider to the root of the app, to initialize PostHog and enable autocapture',\n    nextSteps:\n      '• Call posthog.identify() when a user signs into your app\\n• Call posthog.capture() to capture custom events in your app',\n  },\n  [Integration.svelte]: {\n    name: 'Svelte',\n    filterPatterns: ['**/*.{svelte,ts,js,jsx,tsx}'],\n    ignorePatterns: ['node_modules', 'dist', 'build', 'public', 'static'],\n    detect: async (options) => {\n      const packageJson = await getPackageDotJson(options);\n      return hasPackageInstalled('@sveltejs/kit', packageJson);\n    },\n    generateFilesRules: '',\n    filterFilesRules: '',\n    docsUrl: 'https://posthog.com/docs/libraries/svelte',\n    defaultChanges:\n      '• Installed posthog-js & posthog-node packages\\n• Added PostHog initialization to your Svelte app\\n• Setup pageview & pageleave tracking\\n• Setup event auto - capture to capture events as users interact with your app\\n• Added a getPostHogClient() function to use PostHog server-side',\n    nextSteps:\n      '• Call posthog.identify() when a user signs into your app\\n• Use getPostHogClient() to start capturing events server - side',\n  },\n  [Integration.reactNative]: {\n    name: 'React Native',\n    filterPatterns: ['**/*.{ts,js,jsx,tsx}'],\n    ignorePatterns: ['node_modules', 'dist', 'build', 'public', 'static'],\n    detect: async (options) => {\n      const packageJson = await getPackageDotJson(options);\n      return hasPackageInstalled('react-native', packageJson);\n    },\n    generateFilesRules: '',\n    filterFilesRules: '',\n    docsUrl: 'https://posthog.com/docs/libraries/react-native',\n    defaultChanges:\n      '• Installed required packages\\n• Added PostHogProvider to the root of the app\\n• Enabled autocapture and session replay',\n    nextSteps:\n      '• Call posthog.identify() when a user signs into your app\\n• Call posthog.capture() to capture custom events in your app',\n  },\n  [Integration.astro]: {\n    name: 'Astro',\n    filterPatterns: ['**/*.{astro,ts,js,jsx,tsx}'],\n    ignorePatterns: ['node_modules', 'dist', 'build', 'public', 'static'],\n    detect: async (options) => {\n      const packageJson = await getPackageDotJson(options);\n      return hasPackageInstalled('astro', packageJson);\n    },\n    generateFilesRules: '',\n    filterFilesRules: '',\n    docsUrl: 'https://posthog.com/docs/libraries/js',\n    defaultChanges:\n      '• Added PostHog component with initialization script\\n• Created PostHogLayout for consistent analytics tracking',\n    nextSteps:\n      '• Call posthog.identify() when a user signs into your app\\n• Call posthog.capture() to capture custom events in your app\\n• Use posthog.isFeatureEnabled() for feature flags',\n  },\n} as const satisfies Record<Integration, IntegrationConfig>;\n\nexport const INTEGRATION_ORDER = [\n  Integration.nextjs,\n  Integration.astro,\n  Integration.svelte,\n  Integration.reactNative,\n  Integration.react,\n] as const;\n"]}