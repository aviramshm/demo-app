import type { Task, ExecutionResult, AgentConfig, CanUseTool } from './types.js';
import { PostHogAPIClient } from './posthog-api.js';
export declare class Agent {
    private workingDirectory;
    private onEvent?;
    private taskManager;
    private posthogAPI?;
    private fileManager;
    private gitManager;
    private templateManager;
    private adapter;
    private logger;
    private progressReporter;
    private promptBuilder;
    private mcpServers?;
    private canUseTool?;
    debug: boolean;
    constructor(config: AgentConfig);
    /**
     * Enable or disable debug logging
     */
    setDebug(enabled: boolean): void;
    /**
     * Configure LLM gateway environment variables for Claude Code CLI
     */
    private _configureLlmGateway;
    runTask(taskOrId: Task | string, options?: import('./types.js').TaskExecutionOptions): Promise<void>;
    run(prompt: string, options?: {
        repositoryPath?: string;
        permissionMode?: import('./types.js').PermissionMode;
        queryOverrides?: Record<string, any>;
        canUseTool?: CanUseTool;
    }): Promise<ExecutionResult>;
    fetchTask(taskId: string): Promise<Task>;
    getPostHogClient(): PostHogAPIClient | undefined;
    listTasks(filters?: {
        repository?: string;
        organization?: string;
        origin_product?: string;
    }): Promise<Task[]>;
    writeTaskFile(taskId: string, fileName: string, content: string, type?: 'plan' | 'context' | 'reference' | 'output'): Promise<void>;
    readTaskFile(taskId: string, fileName: string): Promise<string | null>;
    getTaskFiles(taskId: string): Promise<any[]>;
    writePlan(taskId: string, plan: string): Promise<void>;
    readPlan(taskId: string): Promise<string | null>;
    createPlanningBranch(taskId: string): Promise<string>;
    commitPlan(taskId: string, taskTitle: string): Promise<string>;
    createImplementationBranch(taskId: string, planningBranchName?: string): Promise<string>;
    commitImplementation(taskId: string, taskTitle: string, planSummary?: string): Promise<string>;
    createPullRequest(taskId: string, branchName: string, taskTitle: string, taskDescription: string, customBody?: string): Promise<string>;
    attachPullRequestToTask(taskId: string, prUrl: string, branchName?: string): Promise<void>;
    updateTaskBranch(taskId: string, branchName: string): Promise<void>;
    cancelTask(taskId: string): void;
    getTaskExecutionStatus(taskId: string): string | null;
    private prepareTaskBranch;
    private ensureOpenAIGatewayEnv;
    private ensurePullRequest;
    private emitEvent;
}
export { PermissionMode } from './types.js';
export type { Task, SupportingFile, ExecutionResult, AgentConfig } from './types.js';
//# sourceMappingURL=agent.d.ts.map